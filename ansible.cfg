[defaults]
# 增加并发数，默认是 5，提高到 50 可以加快批量执行速度
forks = 50
# 关闭 Host Key Checking，避免交互式提示
host_key_checking = False
# 优化 Facts 收集，smart 表示如果已经收集过且没过期就不再收集
gathering = smart
# 开启 Facts 缓存，避免重复收集
fact_caching = jsonfile
fact_caching_connection = /tmp/ansible_fact_cache
fact_caching_timeout = 7200
# 关闭不必要的重试文件创建
retry_files_enabled = False
# 禁用 cowsay，保持日志纯净
nocows = 1
# 增加超时时间，避免网络波动导致任务失败
timeout = 30

[ssh_connection]
# 开启 SSH pipelining，减少 SSH 连接次数，显著提升执行速度
pipelining = True
# 开启 ControlMaster 和 ControlPersist，复用 SSH 连接
# ControlPersist=60s 表示连接在 60 秒内保持活跃，后续任务可复用
ssh_args = -C -o ControlMaster=auto -o ControlPersist=60s
