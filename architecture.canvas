{
	"nodes": [
		{
			"id": "group_infra",
			"type": "group",
			"label": "Infrastructure & Configuration",
			"x": -100,
			"y": -100,
			"width": 500,
			"height": 800
		},
		{
			"id": "node_docker",
			"type": "text",
			"text": "## ğŸ³ docker-compose.yaml\n**ç±»å‹**: åŸºç¡€è®¾æ–½\n**çŠ¶æ€**: å•æœºéƒ¨ç½²\n\n### ğŸ“ æ ¸å¿ƒå®šä¹‰\n- **æœåŠ¡**: `app` (FastAPI + React Build)\n- **ç«¯å£**: `3000` (Web UI & API)\n- **æŒ‚è½½**: \n    - `config.yaml` (é…ç½®)\n    - `db/` (SQLite æ•°æ®)\n    - `logs/` (æ—¥å¿—)\n\n> âš ï¸ **æ³¨æ„**: æ•°æ®åº“ä¸ºåµŒå…¥å¼ SQLiteï¼Œç”Ÿäº§ç¯å¢ƒå¯èƒ½éœ€è¦è¿ç§»åˆ° PostgreSQLã€‚",
			"x": 0,
			"y": 0,
			"width": 400,
			"height": 400,
			"color": "0"
		},
		{
			"id": "node_config",
			"type": "text",
			"text": "## âš™ï¸ app/core/config.py\n**ç±»å‹**: é…ç½®ä¸­å¿ƒ\n\n### ğŸ“ èŒè´£\n- åŠ è½½ç¯å¢ƒå˜é‡ & `config.yaml`\n- å®šä¹‰æ•°æ®åº“è·¯å¾„\n- ç®¡ç†å¯†é’¥ (JWT Secret)\n- æ—¥å¿—é…ç½®",
			"x": 0,
			"y": 450,
			"width": 400,
			"height": 200,
			"color": "4"
		},
		{
			"id": "group_frontend",
			"type": "group",
			"label": "Frontend (React/Umi)",
			"x": 500,
			"y": -100,
			"width": 600,
			"height": 1500
		},
		{
			"id": "node_routes",
			"type": "text",
			"text": "## ğŸ›£ï¸ myapp/config/routes.ts\n**ç±»å‹**: è·¯ç”±é…ç½®\n\n### ğŸ“ é¡µé¢æ˜ å°„\n- `/ansible/hosts` -> `Ansible/Hosts`\n- `/ansible/batch-execute` -> `Ansible/BatchExecute`\n- `/workflow/manage` -> `Workflow/Manage`\n- `/tencent/instances` -> `Tencent/Instances`\n\n### ğŸ”— ä¸‹æ¸¸ä¾èµ–\n- æŒ‡å‘ `src/pages/*` ç»„ä»¶",
			"x": 550,
			"y": 0,
			"width": 500,
			"height": 400,
			"color": "2"
		},
		{
			"id": "node_page_hosts",
			"type": "text",
			"text": "## ğŸ–¥ï¸ Page: Ansible/Hosts\n**ç±»å‹**: UI ç»„ä»¶\n\n### ğŸ“ åŠŸèƒ½\n- ä¸»æœºåˆ—è¡¨å±•ç¤º\n- ä¸»æœºæ·»åŠ /ç¼–è¾‘/åˆ é™¤\n- è¿é€šæ€§æµ‹è¯• (Ping)\n- ç»ˆç«¯è¿æ¥å…¥å£\n\n### ğŸ”— API è°ƒç”¨\n- `GET /api/hosts`\n- `POST /api/hosts`\n- `GET /api/hosts/{id}/ping`",
			"x": 550,
			"y": 450,
			"width": 500,
			"height": 400,
			"color": "2"
		},
		{
			"id": "node_page_execute",
			"type": "text",
			"text": "## âš¡ Page: Ansible/BatchExecute\n**ç±»å‹**: UI ç»„ä»¶\n\n### ğŸ“ åŠŸèƒ½\n- æ‰¹é‡å‘½ä»¤æ‰§è¡Œ\n- Playbook ä¸Šä¼ ä¸æ‰§è¡Œ\n- å®æ—¶æ—¥å¿—å±•ç¤º\n\n### ğŸ”— API è°ƒç”¨\n- `POST /api/execute`\n- `POST /api/playbook/execute`",
			"x": 550,
			"y": 900,
			"width": 500,
			"height": 400,
			"color": "2"
		},
		{
			"id": "group_backend_api",
			"type": "group",
			"label": "Backend API (FastAPI)",
			"x": 1200,
			"y": -100,
			"width": 600,
			"height": 2000
		},
		{
			"id": "node_main",
			"type": "text",
			"text": "## ğŸš€ app/main.py\n**ç±»å‹**: åº”ç”¨å…¥å£\n\n### ğŸ“ èŒè´£\n- åˆå§‹åŒ– FastAPI å®ä¾‹\n- é…ç½® CORS & ä¸­é—´ä»¶ (Access Log)\n- æŒ‚è½½æ‰€æœ‰ Router\n- å¯åŠ¨äº‹ä»¶ (Startup Event)\n\n### ğŸ”— åŒ…å«æ¨¡å—\n- `ansible.router`\n- `hosts.router`\n- `workflow.router`\n- `tencent.router`",
			"x": 1250,
			"y": 0,
			"width": 500,
			"height": 400,
			"color": "2"
		},
		{
			"id": "node_router_ansible",
			"type": "text",
			"text": "## ğŸ® Router: ansible.py\n**ç±»å‹**: æ§åˆ¶å™¨\n\n### ğŸ“ æ¥å£å®šä¹‰\n- `POST /execute`: æ‰§è¡Œ Ad-hoc å‘½ä»¤\n- `POST /playbook/execute`: æ‰§è¡Œ Playbook\n- `GET /hosts/{id}/facts`: è·å–ä¸»æœº Facts\n\n### ğŸ”— ä¾èµ–\n- `AnsibleService` (æ ¸å¿ƒé€»è¾‘)\n- `Database` (è·å–ä¸»æœºä¿¡æ¯)",
			"x": 1250,
			"y": 450,
			"width": 500,
			"height": 400,
			"color": "2"
		},
		{
			"id": "node_router_hosts",
			"type": "text",
			"text": "## ğŸ“‹ Router: hosts.py\n**ç±»å‹**: æ§åˆ¶å™¨\n\n### ğŸ“ æ¥å£å®šä¹‰\n- CRUD æ“ä½œ (Create, Read, Update, Delete)\n- å¯¼å…¥/å¯¼å‡ºä¸»æœºåˆ—è¡¨\n\n### ğŸ”— ä¾èµ–\n- `Database` (ç›´æ¥æ•°æ®æ“ä½œ)",
			"x": 1250,
			"y": 900,
			"width": 500,
			"height": 300,
			"color": "2"
		},
		{
			"id": "node_router_workflow",
			"type": "text",
			"text": "## â›“ï¸ Router: workflow.py\n**ç±»å‹**: æ§åˆ¶å™¨\n\n### ğŸ“ æ¥å£å®šä¹‰\n- å·¥ä½œæµç¼–æ’\n- ä»»åŠ¡èŠ‚ç‚¹ç®¡ç†\n- æ‰§è¡Œå†å²æŸ¥è¯¢\n\n### ğŸ”— ä¾èµ–\n- `WorkflowService`",
			"x": 1250,
			"y": 1250,
			"width": 500,
			"height": 300,
			"color": "2"
		},
		{
			"id": "group_core",
			"type": "group",
			"label": "Core Services & Data",
			"x": 1900,
			"y": -100,
			"width": 600,
			"height": 2000
		},
		{
			"id": "node_service_ansible",
			"type": "text",
			"text": "## ğŸ§  Service: ansible.py\n**ç±»å‹**: æ ¸å¿ƒä¸šåŠ¡é€»è¾‘\n**å¤æ‚åº¦**: â­â­â­â­â­\n\n### ğŸ“ æ ¸å¿ƒèŒè´£\n- **Ansible API å°è£…**: è°ƒç”¨ Python `ansible` åº“\n- **Inventory ç”Ÿæˆ**: åŠ¨æ€ç”Ÿæˆä¸´æ—¶ Inventory æ–‡ä»¶\n- **ä»»åŠ¡æ‰§è¡Œ**: Ad-hoc å‘½ä»¤ä¸ Playbook æ‰§è¡Œ\n- **ç»“æœè§£æ**: è§£æ Ansible å›è°ƒæ•°æ®\n\n### âš ï¸ å…³é”®é€»è¾‘\n- ä½¿ç”¨ `ansible.executor.task_queue_manager`\n- è‡ªå®šä¹‰ `ResultCallback` å¤„ç†å¼‚æ­¥ç»“æœ\n- ä¾èµ–ç³»ç»Ÿçº§ Ansible ç¯å¢ƒ (Linux Only)",
			"x": 1950,
			"y": 0,
			"width": 500,
			"height": 600,
			"color": "1"
		},
		{
			"id": "node_database",
			"type": "text",
			"text": "## ğŸ’¾ app/core/database.py\n**ç±»å‹**: æ•°æ®è®¿é—®å±‚ (DAL)\n\n### ğŸ“ èŒè´£\n- SQLite è¿æ¥ç®¡ç†\n- **æ‰‹å†™ SQL / è½»é‡å°è£…**: æä¾› `get_hosts`, `add_host` ç­‰æ–¹æ³•\n- è®¿é—®æ—¥å¿—è®°å½•\n\n### ğŸ”— æ•°æ®æ¨¡å‹\n- Hosts Table\n- Access Logs\n- Workflow Definitions",
			"x": 1950,
			"y": 650,
			"width": 500,
			"height": 400,
			"color": "3"
		},
		{
			"id": "node_service_workflow",
			"type": "text",
			"text": "## ğŸ”„ Service: workflow.py\n**ç±»å‹**: ä¸šåŠ¡é€»è¾‘\n\n### ğŸ“ èŒè´£\n- è§£æå·¥ä½œæµ DAG (æœ‰å‘æ— ç¯å›¾)\n- è°ƒåº¦ä»»åŠ¡èŠ‚ç‚¹\n- çŠ¶æ€æµè½¬ç®¡ç†",
			"x": 1950,
			"y": 1100,
			"width": 500,
			"height": 300,
			"color": "1"
		}
	],
	"edges": [
		{
			"id": "edge_docker_config",
			"fromNode": "node_docker",
			"fromSide": "bottom",
			"toNode": "node_config",
			"toSide": "top",
			"label": "mounts",
			"color": "4"
		},
		{
			"id": "edge_routes_hosts",
			"fromNode": "node_routes",
			"fromSide": "bottom",
			"toNode": "node_page_hosts",
			"toSide": "top",
			"label": "routes to",
			"color": "2"
		},
		{
			"id": "edge_routes_execute",
			"fromNode": "node_routes",
			"fromSide": "bottom",
			"toNode": "node_page_execute",
			"toSide": "top",
			"label": "routes to",
			"color": "2"
		},
		{
			"id": "edge_main_ansible",
			"fromNode": "node_main",
			"fromSide": "bottom",
			"toNode": "node_router_ansible",
			"toSide": "top",
			"label": "includes",
			"color": "2"
		},
		{
			"id": "edge_main_hosts",
			"fromNode": "node_main",
			"fromSide": "bottom",
			"toNode": "node_router_hosts",
			"toSide": "top",
			"label": "includes",
			"color": "2"
		},
		{
			"id": "edge_main_workflow",
			"fromNode": "node_main",
			"fromSide": "bottom",
			"toNode": "node_router_workflow",
			"toSide": "top",
			"label": "includes",
			"color": "2"
		},
		{
			"id": "edge_router_ansible_service",
			"fromNode": "node_router_ansible",
			"fromSide": "right",
			"toNode": "node_service_ansible",
			"toSide": "left",
			"label": "calls",
			"color": "1"
		},
		{
			"id": "edge_router_hosts_db",
			"fromNode": "node_router_hosts",
			"fromSide": "right",
			"toNode": "node_database",
			"toSide": "left",
			"label": "queries",
			"color": "3"
		},
		{
			"id": "edge_service_ansible_db",
			"fromNode": "node_service_ansible",
			"fromSide": "bottom",
			"toNode": "node_database",
			"toSide": "top",
			"label": "reads inventory",
			"color": "3"
		},
		{
			"id": "edge_router_workflow_service",
			"fromNode": "node_router_workflow",
			"fromSide": "right",
			"toNode": "node_service_workflow",
			"toSide": "left",
			"label": "calls",
			"color": "1"
		},
		{
			"id": "edge_page_hosts_api",
			"fromNode": "node_page_hosts",
			"fromSide": "right",
			"toNode": "node_router_hosts",
			"toSide": "left",
			"label": "HTTP Request",
			"color": "2"
		},
		{
			"id": "edge_page_execute_api",
			"fromNode": "node_page_execute",
			"fromSide": "right",
			"toNode": "node_router_ansible",
			"toSide": "left",
			"label": "HTTP Request",
			"color": "2"
		}
	]
}
